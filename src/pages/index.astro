---
import Layout from '../layouts/Layout.astro';
import { techStack } from '../utils/techStack';
import { contactData } from '../utils/contactData';
import { Image } from 'astro:assets';
---

<Layout title="Ryan Mahardika - Portfolio">
	<main>
		<section id="home" class="hero">
			<div class="hero-bg">
				<div class="gradient-blob blob-1"></div>
				<div class="gradient-blob blob-2"></div>
				<div class="grid-pattern"></div>
			</div>
			<div class="hero-content">
				<span class="greeting" data-i18n="hero.greeting">Hello, I'm</span>
				<h1 class="name"><span id="typing-name"></span><span class="cursor">|</span></h1>
				<p class="role" data-i18n="hero.role">IT Support | Network Administrator | Junior Fullstack Developer | AI Enthusiast</p>
				<div class="cta-buttons">
					<a href="#contact" class="btn btn-primary" data-i18n="hero.cta.contact">Contact Me</a>
					<a href="#about" class="btn btn-outline" data-i18n="hero.cta.about">About Me</a>
				</div>
			</div>
		</section>

		<section id="about">
			<div class="section-container">
				<h2 data-i18n="section.about.title">About Me</h2>
				<p class="bio-text" data-i18n="section.about.bio">Hello! I am an IT Support & Network Administrator currently in my final year of Information Systems studies...</p>
				
				<div class="resume-grid">
					<!-- Experience Column -->
					<div class="resume-column">
						<h3 class="column-title">
							<span class="icon">üíº</span> 
							<span data-i18n="section.about.exp.title">Work Experience</span>
						</h3>
						<div class="timeline">
							<!-- Item 3 (Latest) -->
							<div class="timeline-item">
								<div class="timeline-dot"></div>
								<div class="timeline-content">
									<span class="date" data-i18n="exp.3.date">August 2024 - September 2025</span>
									<h4 data-i18n="exp.3.role">Freelance IT Support</h4>
									<span class="type" data-i18n="exp.3.type">Internship</span>
									<p class="company">
										<span data-i18n="exp.3.comp">PT. Tigapilar Kapital Utama</span>
										<span class="location">üìç <span data-i18n="exp.3.loc">South Jakarta</span></span>
									</p>
								</div>
							</div>
							<!-- Item 2 -->
							<div class="timeline-item">
								<div class="timeline-dot"></div>
								<div class="timeline-content">
									<span class="date" data-i18n="exp.2.date">January 2020 - January 2021</span>
									<h4 data-i18n="exp.2.role">IT Support Team Member</h4>
									<span class="type" data-i18n="exp.2.type">Internship</span>
									<p class="company">
										<span data-i18n="exp.2.comp">SMK Citra Negara</span>
										<span class="location">üìç <span data-i18n="exp.2.loc">Depok</span></span>
									</p>
								</div>
							</div>
							<!-- Item 1 -->
							<div class="timeline-item">
								<div class="timeline-dot"></div>
								<div class="timeline-content">
									<span class="date" data-i18n="exp.1.date">August 2019 - November 2019</span>
									<h4 data-i18n="exp.1.role">Network Technician</h4>
									<span class="type" data-i18n="exp.1.type">Internship</span>
									<p class="company">
										<span data-i18n="exp.1.comp">Powertel</span>
										<span class="location">üìç <span data-i18n="exp.1.loc">Depok</span></span>
									</p>
								</div>
							</div>
						</div>
					</div>

					<!-- Education Column -->
					<div class="resume-column">
						<h3 class="column-title">
							<span class="icon">üéì</span>
							<span data-i18n="section.about.edu.title">Education</span>
						</h3>
						<div class="timeline">
							<!-- Edu 2 (Latest) -->
							<div class="timeline-item">
								<div class="timeline-dot"></div>
								<div class="timeline-content">
									<span class="date" data-i18n="edu.2.date">2022 - Present</span>
									<h4 data-i18n="edu.2.school">Universitas Pamulang</h4>
									<span class="type" data-i18n="edu.2.type">Full Time</span>
									<p class="major">
										<span data-i18n="edu.2.major">Informatics Engineering</span>
										<span class="location">üìç <span data-i18n="edu.2.loc">South Tangerang</span></span>
									</p>
								</div>
							</div>
							<!-- Edu 1 -->
							<div class="timeline-item">
								<div class="timeline-dot"></div>
								<div class="timeline-content">
									<span class="date" data-i18n="edu.1.date">2021</span>
									<h4 data-i18n="edu.1.school">SMK Citra Negara</h4>
									<span class="type" data-i18n="edu.1.type">Full Time</span>
									<p class="major">
										<span data-i18n="edu.1.major">Computer and Network Engineering</span>
										<span class="location">üìç <span data-i18n="edu.1.loc">Depok</span></span>
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section id="skills">
			<div class="section-container">
				<h2 data-i18n="section.skills.title">Skill and Tools</h2>
				<p data-i18n="section.skills.desc">Crafting solutions with the best tools in the industry.</p>
				
				<div class="tech-grid">
					{techStack.map((tech) => (
						<div class="tech-item">
							<div class="tech-icon-wrapper">
								<Image src={tech.icon} alt={tech.name} width={50} height={50} class="tech-icon" />
							</div>
							<span class="tech-name">{tech.name}</span>
						</div>
					))}
				</div>
			</div>
		</section>

		<!-- <section id="projects">
			<div class="section-container">
				<h2 data-i18n="nav.projects">Projects</h2>
				<p>Coming Soon...</p>
			</div>
		</section> -->

		<section id="contact">
			<div class="section-container">
				<h2 data-i18n="section.contact.title">Contact</h2>
				<p data-i18n="section.contact.desc" class="contact-desc">Let's work together to create something amazing.</p>
				
				<div class="contact-wrapper">
					<!-- Contact Info Cards -->
					<div class="contact-grid">
						{contactData.map((contact) => (
							<a href={contact.url} target="_blank" class="contact-card">
								<div class="icon-box">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" set:html={contact.icon}></svg>
								</div>
								<div class="contact-info">
									<span class="label" {...(contact.i18nKey ? { "data-i18n": contact.i18nKey } : {})}>{contact.label}</span>
									<span class="value">{contact.value}</span>
								</div>
							</a>
						))}
					</div>
				</div>
			</div>
		</section>

		<footer class="site-footer">
			<div class="footer-content">
				<p>&copy; {new Date().getFullYear()} Ryan Mahardika. <span data-i18n="footer.rights">All Rights Reserved</span>.</p>
			</div>
		</footer>
	</main>
</Layout>

<style>
	main {
		color: var(--text-main);
	}
	section {
		padding: 6rem 2rem;
		min-height: 80vh;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		border-bottom: 1px solid rgba(0,0,0,0.05);
	}
	
	:global(.dark) section {
		border-bottom: 1px solid rgba(255,255,255,0.05);
	}

	section:nth-child(odd) {
		background-color: var(--bg-main);
	}

	section:nth-child(even) {
		background-color: var(--bg-secondary);
	}

	.section-container {
		max-width: 900px; /* Reduced from 1000px */
		margin: 0 auto;
		text-align: center;
	}

	.bio-text {
		max-width: 750px; /* Reduced from 800px */
		margin: 0 auto 2.5rem; /* Reduced margin */
		text-align: justify;
		color: var(--text-muted);
		line-height: 1.7; /* Reduced line-height */
		font-size: 1rem; /* Explicitly set smaller size */
	}

	/* Resume Grid */
	.resume-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 2rem; /* Reduced gap from 3rem */
		text-align: left;
	}

	.column-title {
		font-size: 1.25rem; /* Reduced from 1.5rem */
		margin-bottom: 1.5rem; /* Reduced margin */
		display: flex;
		align-items: center;
		gap: 0.5rem;
		color: var(--text-main);
	}

	/* Timeline */
	.timeline {
		border-left: 2px solid var(--accent-secondary);
		padding-left: 1.5rem;
	}

	.timeline-item {
		position: relative;
		margin-bottom: 2rem; /* Reduced from 2.5rem */
	}

	.timeline-item:last-child {
		margin-bottom: 0;
	}

	.timeline-dot {
		position: absolute;
		left: -21px; /* Adjusted slightly */
		top: 5px;
		width: 10px; /* Smaller dot */
		height: 10px;
		background-color: var(--accent-primary);
		border-radius: 50%;
		border: 2px solid var(--bg-main);
		box-shadow: 0 0 0 2px var(--accent-secondary);
	}

	.timeline-content {
		background: var(--bg-main);
		padding: 0.85rem; /* Reduced padding */
		border-radius: 8px; /* Slightly smaller radius */
		border: 1px solid rgba(0,0,0,0.05);
		transition: transform 0.3s ease, box-shadow 0.3s ease;
	}
	
	:global(.dark) .timeline-content {
		background: rgba(255,255,255,0.03);
		border: 1px solid rgba(255,255,255,0.05);
	}

	.timeline-content:hover {
		transform: translateY(-2px); /* Subtle hover */
		box-shadow: 0 5px 15px rgba(0,0,0,0.05);
	}

	.timeline-content .date {
		display: inline-block;
		font-size: 0.75rem; /* Smaller date */
		color: var(--accent-primary);
		font-weight: 600;
		margin-bottom: 0.3rem;
	}

	.timeline-content h4 {
		margin: 0 0 0.2rem 0;
		font-size: 1rem; /* Smaller job title */
		color: var(--text-main);
	}

	.timeline-content .type {
		display: inline-block;
		font-size: 0.7rem; /* Smaller badge text */
		padding: 0.15rem 0.5rem;
		border-radius: 15px;
		background: var(--bg-secondary);
		color: var(--accent-primary);
		margin-bottom: 0.4rem;
		font-weight: 500;
	}

	.timeline-content p {
		margin: 0;
		font-size: 0.9rem; /* Smaller body text */
		color: var(--text-muted);
	}

	.timeline-content .location {
		display: block;
		margin-top: 0.2rem;
		font-size: 0.8rem;
		opacity: 0.8;
	}

	@media (max-width: 768px) {
		.resume-grid {
			grid-template-columns: 1fr;
			gap: 4rem;
		}
		
		.bio-text {
			text-align: left;
		}
	}

	/* Hero Section */
	.hero {
		position: relative;
		background: var(--bg-main);
		text-align: center;
		padding-top: 5rem;
		padding-bottom: 2rem;
		min-height: 100vh;
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}

	.hero-bg {
		position: absolute;
		inset: 0;
		overflow: hidden;
		pointer-events: none;
	}

	.gradient-blob {
		position: absolute;
		border-radius: 50%;
		filter: blur(120px);
		opacity: 0.5;
		animation: float 25s ease-in-out infinite;
	}

	.blob-1 {
		width: 700px;
		height: 700px;
		background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
		top: -25%;
		right: -20%;
	}

	.blob-2 {
		width: 600px;
		height: 600px;
		background: linear-gradient(135deg, var(--accent-secondary), #06b6d4);
		bottom: -25%;
		left: -20%;
		animation-delay: -12s;
	}

	:global(.dark) .gradient-blob {
		opacity: 0.2;
	}

	.grid-pattern {
		position: absolute;
		inset: 0;
		background-image: 
			linear-gradient(rgba(139, 92, 246, 0.04) 1px, transparent 1px),
			linear-gradient(90deg, rgba(139, 92, 246, 0.04) 1px, transparent 1px);
		background-size: 50px 50px;
	}

	:global(.dark) .grid-pattern {
		background-image: 
			linear-gradient(rgba(177, 59, 255, 0.06) 1px, transparent 1px),
			linear-gradient(90deg, rgba(177, 59, 255, 0.06) 1px, transparent 1px);
	}

	@keyframes float {
		0%, 100% { transform: translate(0, 0) scale(1); }
		33% { transform: translate(40px, -40px) scale(1.05); }
		66% { transform: translate(-30px, 30px) scale(0.95); }
	}

	.hero-content {
		position: relative;
		z-index: 1;
		padding: 0 1rem;
		animation: fadeInUp 0.8s ease-out;
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(40px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.greeting {
		font-size: 1.25rem;
		font-weight: 500;
		color: var(--accent-primary);
		display: block;
		margin-bottom: 1rem;
		letter-spacing: 4px;
		text-transform: uppercase;
	}

	.name {
		font-size: clamp(3rem, 8vw, 5.5rem);
		margin: 0;
		line-height: 1.1;
		font-weight: 800;
		letter-spacing: -2px;
		background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-primary) 50%, #06b6d4 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.cursor {
		display: inline-block;
		background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		animation: blink 0.8s infinite;
		margin-left: 2px;
		font-weight: 400;
	}

	@keyframes blink {
		0%, 50% { opacity: 1; }
		51%, 100% { opacity: 0; }
	}

	.role {
		font-size: 1.25rem;
		color: var(--text-muted);
		margin-top: 1.5rem;
		margin-bottom: 3rem;
		line-height: 1.6;
		max-width: 650px;
		margin-left: auto;
		margin-right: auto;
	}

	.cta-buttons {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.btn {
		padding: 1rem 2.5rem;
		border-radius: 50px;
		font-weight: 600;
		font-size: 1rem;
		text-decoration: none;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.btn:hover {
		transform: translateY(-3px);
	}

	.btn-primary {
		background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
		color: #fff;
		box-shadow: 0 4px 25px rgba(139, 92, 246, 0.4);
	}

	:global(.dark) .btn-primary {
		color: #fff;
		box-shadow: 0 4px 25px rgba(177, 59, 255, 0.5);
	}

	.btn-primary:hover {
		box-shadow: 0 8px 35px rgba(139, 92, 246, 0.5);
	}

	.btn-outline {
		background: transparent;
		border: 2px solid rgba(139, 92, 246, 0.3);
		color: var(--text-color);
	}

	:global(.dark) .btn-outline {
		border-color: rgba(177, 59, 255, 0.3);
	}

	.btn-outline:hover {
		background: rgba(139, 92, 246, 0.08);
		border-color: var(--accent-primary);
	}

	:global(.dark) .btn-outline:hover {
		background: rgba(177, 59, 255, 0.1);
	}

	/* Tech Stack Grid */
	.tech-grid {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 1.5rem;
		margin-top: 3rem;
		padding: 0 1rem;
	}

	.tech-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.8rem;
		transition: transform 0.3s ease;
	}

	/* Removed grid media queries as we use flexbox now */

	.tech-item:hover {
		transform: translateY(-5px);
	}

	.tech-icon-wrapper {
		width: 80px;
		height: 80px;
		display: flex;
		align-items: center;
		justify-content: center;
		background: var(--bg-main);
		border-radius: 20px;
		box-shadow: 0 4px 20px rgba(0,0,0,0.05);
		border: 1px solid rgba(0,0,0,0.05);
		transition: all 0.3s ease;
	}

	:global(.dark) .tech-icon-wrapper {
		background: rgba(255,255,255,0.03);
		border: 1px solid rgba(255,255,255,0.05);
	}

	.tech-item:hover .tech-icon-wrapper {
		box-shadow: 0 8px 30px rgba(0,0,0,0.1);
		border-color: var(--accent-primary);
	}

	.tech-icon {
		width: 40px;
		height: 40px;
		object-fit: contain;
		filter: grayscale(0%);
		transition: filter 0.3s ease;
	}
	
	/* Optional: grayscale until hover */
	/* .tech-icon { filter: grayscale(100%); } */
	/* .tech-item:hover .tech-icon { filter: grayscale(0%); } */

	.tech-name {
		font-size: 0.9rem;
		font-weight: 500;
		color: var(--text-muted);
		transition: color 0.3s ease;
	}

	.tech-item:hover .tech-name {
		color: var(--accent-primary);
	}

	h2 {
		font-size: 2.5rem;
		margin-bottom: 1.5rem;
		color: var(--text-main);
	}

	p {
		color: var(--text-muted);
		line-height: 1.6;
		font-size: 1.1rem;
	}

	@media (max-width: 768px) {
		.hero {
			min-height: 100vh;
			padding: 4rem 1rem 2rem;
		}

		.gradient-blob {
			opacity: 0.3;
		}

		.hero-content {
			padding: 0 0.5rem;
		}

		.greeting {
			font-size: 1rem;
			letter-spacing: 2px;
			margin-bottom: 0.75rem;
		}

		.name {
			letter-spacing: -1px;
		}

		.role {
			font-size: 1rem;
			margin-top: 1rem;
			margin-bottom: 2rem;
			padding: 0 0.5rem;
		}

		.btn {
			padding: 0.875rem 1.75rem;
			font-size: 0.95rem;
		}
	}

	/* Contact Section */
	#contact .section-container {
		max-width: 1200px;
	}

	.contact-desc {
		margin-bottom: 3rem;
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}

	.contact-wrapper {
		width: 100%;
		max-width: 1200px;
		margin: 0 auto;
	}

	.contact-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 2rem;
	}

	@media (max-width: 1024px) {
		.contact-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}

	@media (max-width: 640px) {
		.contact-grid {
			grid-template-columns: 1fr;
		}
	}

	.contact-card {
		display: flex;
		align-items: center;
		gap: 1rem;
		padding: 1.5rem;
		background: var(--bg-main);
		border-radius: 16px;
		border: 1px solid rgba(0,0,0,0.05);
		text-decoration: none;
		transition: all 0.3s ease;
		text-align: left;
		box-shadow: 0 4px 6px rgba(0,0,0,0.02);
	}

	:global(.dark) .contact-card {
		background: rgba(255,255,255,0.03);
		border: 1px solid rgba(255,255,255,0.05);
	}

	.contact-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 10px 20px rgba(0,0,0,0.05);
		border-color: var(--accent-primary);
	}

	.icon-box {
		width: 50px;
		height: 50px;
		border-radius: 12px;
		background: rgba(196, 217, 255, 0.2); /* var(--accent-primary) with opacity */
		color: var(--accent-primary);
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
	}

	.contact-info {
		display: flex;
		flex-direction: column;
	}

	.contact-info .label {
		font-size: 0.85rem;
		color: var(--text-muted);
		font-weight: 500;
	}

	.contact-info .value {
		font-size: 1rem;
		color: var(--text-main);
		font-weight: 600;
		word-break: break-all;
	}

	/* Footer */
	.site-footer {
		padding: 3rem 0;
		background: var(--bg-main);
		border-top: 1px solid rgba(0,0,0,0.05);
		margin-top: auto;
	}

	:global(.dark) .site-footer {
		border-top: 1px solid rgba(255,255,255,0.05);
	}

	.footer-content {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 2rem;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: 1rem;
		text-align: center;
	}

	.footer-content p {
		font-size: 0.9rem;
		margin: 0;
	}

	/* Removed social-links-footer styles */
</style>

<script>
	const name = "Ryan Mahardika";
	const typingElement = document.getElementById('typing-name');
	let index = 0;

	function typeWriter() {
		if (index < name.length) {
			if (typingElement) {
				typingElement.textContent += name.charAt(index);
				index++;
				setTimeout(typeWriter, 100);
			}
		}
	}

	setTimeout(typeWriter, 500);
</script>